{% extends "base.html" %}
{% load generic %}

{% block scripts %}
{% endblock %}

{% block content %}
<ul class="breadcrumb">
    <li><a href="/">Home</a></li>
    <li class="active">User Events</li>
</ul>

<h2>User Events</h2>

<hr>

<p><b>Select Client:</b></p>

<form action="" method="POST">
    {% csrf_token %}

    {% if form.errors %}
    <div class="alert alert-dismissible alert-danger">
        <ul>
            {% for error in form.errors %}
            <li>{{ error }}</li>
            {% endfor %}
        </ul>
    </div>

    {% endif %}

    <select name="customer_id">
        {% for customer in customers %}
        <option value="{{ customer.id }}">{{ customer.name }}</option>
        {% endfor %}
    </select>

    &nbsp;&nbsp;&nbsp;<input class="btn btn-primary" type="submit" value="Submit"/>

</form>

<br>

<div>
    <table class="ntable">
        <tr class="head">
            <td>Client</td>
            <td>Event Type</td>
            <td>Event Name</td>
            <td>Additional Data</td>
            <td>Created</td>
        </tr>

        {% for event in events %}

        <tr class="">
            <td>{{ event.user.full_name }}</td>
            <td>{{ event.event_type|default_if_none:"" }}</td>
            <td>{{ event.event_name|default_if_none:"" }}</td>
            <td>{{ event.event_additional|default_if_none:"" }}</td>
            <td>{{ event.date_created }}</td>
        </tr>

        {% empty %}

            <tr><td colspan="5"><b>No Data Found.</b></td></tr>

        {% endfor %}

    </table>


</div>


{% endblock %}
